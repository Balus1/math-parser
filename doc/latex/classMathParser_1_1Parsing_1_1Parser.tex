\hypertarget{classMathParser_1_1Parsing_1_1Parser}{\section{Math\-Parser\textbackslash{}Parsing\textbackslash{}Parser Class Reference}
\label{classMathParser_1_1Parsing_1_1Parser}\index{Math\-Parser\textbackslash{}\-Parsing\textbackslash{}\-Parser@{Math\-Parser\textbackslash{}\-Parsing\textbackslash{}\-Parser}}
}


Mathematical expression parser, based on the shunting yard algorithm.  


\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classMathParser_1_1Parsing_1_1Parser_a556c64ee108e141b442badafbd3b1164}{parse} (array \$tokens)
\begin{DoxyCompactList}\small\item\em Parse list of tokens. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classMathParser_1_1Parsing_1_1Parser_a2572d3c71a4fd638bb0e9188c2e7f7e9}{handle\-Expression} (\$token)
\begin{DoxyCompactList}\small\item\em Create an appropriate Node from the corresponding token. \end{DoxyCompactList}\item 
\hyperlink{classMathParser_1_1Parsing_1_1Parser_a0896b00bcb6831560faea77f5ff7831c}{filter\-Tokens} (array \$tokens)
\begin{DoxyCompactList}\small\item\em Remove Whitespace from the token list. \end{DoxyCompactList}\item 
\hyperlink{classMathParser_1_1Parsing_1_1Parser_a74e79e5a38c1edbc919cd66c50712cd8}{parse\-Implicit\-Multiplication} (array \$tokens)
\begin{DoxyCompactList}\small\item\em Insert multiplication tokens where needed (taking care of implicit mulitplication). \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classMathParser_1_1Parsing_1_1Parser_ab559cd696a23ad1eeddb69eb6a56a067}{allow\-Implicit\-Multiplication} ()
\begin{DoxyCompactList}\small\item\em Determine if the parser allows implicit multiplication. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classMathParser_1_1Parsing_1_1Parser_ab20fd2f0971594016b8b631d29532284}{{\bfseries \$tokens}}\label{classMathParser_1_1Parsing_1_1Parser_ab20fd2f0971594016b8b631d29532284}

\item 
\hypertarget{classMathParser_1_1Parsing_1_1Parser_a6a691e6b115de82b04fa5b2fc828721b}{{\bfseries \$operator\-Stack}}\label{classMathParser_1_1Parsing_1_1Parser_a6a691e6b115de82b04fa5b2fc828721b}

\item 
\hypertarget{classMathParser_1_1Parsing_1_1Parser_a761f3ca46141d5e39e620520a2a876fa}{{\bfseries \$operand\-Stack}}\label{classMathParser_1_1Parsing_1_1Parser_a761f3ca46141d5e39e620520a2a876fa}

\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classMathParser_1_1Parsing_1_1Parser_a5e95881d4b53730565bf2205fa621086}{Shunting\-Yard} (array \$tokens)
\begin{DoxyCompactList}\small\item\em Implementation of the shunting yard parsing algorithm. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Mathematical expression parser, based on the shunting yard algorithm. 

Parse a token string into an abstract syntax tree (A\-S\-T).

As the parser loops over the individual tokens, two stacks are kept up to date. One stack (\$operator\-Stack) consists of hitherto unhandled tokens corresponding to ''operators'' (unary and binary operators, function applications and parenthesis) and a stack of parsed sub-\/expressions (the \$operand\-Stack).

If the current token is a terminal token (number, variable or constant), a corresponding node is pushed onto the operand\-Stack.

Otherwise, the precedence of the current token is compared to the top element(t) on the operator\-Stack, and as long as the current token has lower precedence, we keep popping operators from the stack to constuct more complicated subexpressions together with the top items on the operand\-Stack.

Once the token list is empty, we pop the remaining operators as above, and if the formula was well-\/formed, the only thing remaining on the operand\-Stack is a completely parsed A\-S\-T, which we return. 

\subsection{Member Function Documentation}
\hypertarget{classMathParser_1_1Parsing_1_1Parser_ab559cd696a23ad1eeddb69eb6a56a067}{\index{Math\-Parser\-::\-Parsing\-::\-Parser@{Math\-Parser\-::\-Parsing\-::\-Parser}!allow\-Implicit\-Multiplication@{allow\-Implicit\-Multiplication}}
\index{allow\-Implicit\-Multiplication@{allow\-Implicit\-Multiplication}!MathParser::Parsing::Parser@{Math\-Parser\-::\-Parsing\-::\-Parser}}
\subsubsection[{allow\-Implicit\-Multiplication}]{\setlength{\rightskip}{0pt plus 5cm}Math\-Parser\textbackslash{}\-Parsing\textbackslash{}\-Parser\-::allow\-Implicit\-Multiplication (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}}\label{classMathParser_1_1Parsing_1_1Parser_ab559cd696a23ad1eeddb69eb6a56a067}


Determine if the parser allows implicit multiplication. 

Create a subclass of \hyperlink{classMathParser_1_1Parsing_1_1Parser}{Parser}, overriding this function, returning false instead to diallow implicit multiplication.

\paragraph*{Example\-:}


\begin{DoxyCode}
\textcolor{keyword}{class }ParserWithoutImplictMultiplication \textcolor{keyword}{extends} Parser \{
  \textcolor{keyword}{protected} \textcolor{keyword}{function} \hyperlink{classMathParser_1_1Parsing_1_1Parser_ab559cd696a23ad1eeddb69eb6a56a067}{allowImplicitMultiplication}() \{
    \textcolor{keywordflow}{return} \textcolor{keyword}{false};
  \}
\}

$lexer = \textcolor{keyword}{new} StdMathLexer();
$tokens = $lexer->tokenize(\textcolor{stringliteral}{'2x'});
$parser = \textcolor{keyword}{new} ParserWithoutImplicitMultiplication();
$node = $parser->parse($tokens); \textcolor{comment}{// Throws a SyntaxErrorException}
\end{DoxyCode}



\begin{DoxyRetVals}{Return values}
{\em boolean} & \\
\hline
\end{DoxyRetVals}
\hypertarget{classMathParser_1_1Parsing_1_1Parser_a0896b00bcb6831560faea77f5ff7831c}{\index{Math\-Parser\-::\-Parsing\-::\-Parser@{Math\-Parser\-::\-Parsing\-::\-Parser}!filter\-Tokens@{filter\-Tokens}}
\index{filter\-Tokens@{filter\-Tokens}!MathParser::Parsing::Parser@{Math\-Parser\-::\-Parsing\-::\-Parser}}
\subsubsection[{filter\-Tokens}]{\setlength{\rightskip}{0pt plus 5cm}Math\-Parser\textbackslash{}\-Parsing\textbackslash{}\-Parser\-::filter\-Tokens (
\begin{DoxyParamCaption}
\item[{array}]{\$tokens}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}}\label{classMathParser_1_1Parsing_1_1Parser_a0896b00bcb6831560faea77f5ff7831c}


Remove Whitespace from the token list. 


\begin{DoxyParams}{Parameters}
{\em Token\mbox{[}$\,$\mbox{]}} & \$tokens Input list of tokens \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em Token\mbox{[}$\,$\mbox{]}} & \\
\hline
\end{DoxyRetVals}
\hypertarget{classMathParser_1_1Parsing_1_1Parser_a2572d3c71a4fd638bb0e9188c2e7f7e9}{\index{Math\-Parser\-::\-Parsing\-::\-Parser@{Math\-Parser\-::\-Parsing\-::\-Parser}!handle\-Expression@{handle\-Expression}}
\index{handle\-Expression@{handle\-Expression}!MathParser::Parsing::Parser@{Math\-Parser\-::\-Parsing\-::\-Parser}}
\subsubsection[{handle\-Expression}]{\setlength{\rightskip}{0pt plus 5cm}Math\-Parser\textbackslash{}\-Parsing\textbackslash{}\-Parser\-::handle\-Expression (
\begin{DoxyParamCaption}
\item[{}]{\$token}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}}\label{classMathParser_1_1Parsing_1_1Parser_a2572d3c71a4fd638bb0e9188c2e7f7e9}


Create an appropriate Node from the corresponding token. 


\begin{DoxyParams}[1]{Parameters}
Token & {\em \$token} & \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em Node} & \\
\hline
\end{DoxyRetVals}

\begin{DoxyExceptions}{Exceptions}
{\em Syntax\-Error\-Exception} & \\
\hline
\end{DoxyExceptions}
\hypertarget{classMathParser_1_1Parsing_1_1Parser_a556c64ee108e141b442badafbd3b1164}{\index{Math\-Parser\-::\-Parsing\-::\-Parser@{Math\-Parser\-::\-Parsing\-::\-Parser}!parse@{parse}}
\index{parse@{parse}!MathParser::Parsing::Parser@{Math\-Parser\-::\-Parsing\-::\-Parser}}
\subsubsection[{parse}]{\setlength{\rightskip}{0pt plus 5cm}Math\-Parser\textbackslash{}\-Parsing\textbackslash{}\-Parser\-::parse (
\begin{DoxyParamCaption}
\item[{array}]{\$tokens}
\end{DoxyParamCaption}
)}}\label{classMathParser_1_1Parsing_1_1Parser_a556c64ee108e141b442badafbd3b1164}


Parse list of tokens. 


\begin{DoxyParams}{Parameters}
{\em Token\mbox{[}$\,$\mbox{]}} & \$tokens \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em Node} & \\
\hline
\end{DoxyRetVals}
\hypertarget{classMathParser_1_1Parsing_1_1Parser_a74e79e5a38c1edbc919cd66c50712cd8}{\index{Math\-Parser\-::\-Parsing\-::\-Parser@{Math\-Parser\-::\-Parsing\-::\-Parser}!parse\-Implicit\-Multiplication@{parse\-Implicit\-Multiplication}}
\index{parse\-Implicit\-Multiplication@{parse\-Implicit\-Multiplication}!MathParser::Parsing::Parser@{Math\-Parser\-::\-Parsing\-::\-Parser}}
\subsubsection[{parse\-Implicit\-Multiplication}]{\setlength{\rightskip}{0pt plus 5cm}Math\-Parser\textbackslash{}\-Parsing\textbackslash{}\-Parser\-::parse\-Implicit\-Multiplication (
\begin{DoxyParamCaption}
\item[{array}]{\$tokens}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}}\label{classMathParser_1_1Parsing_1_1Parser_a74e79e5a38c1edbc919cd66c50712cd8}


Insert multiplication tokens where needed (taking care of implicit mulitplication). 


\begin{DoxyParams}{Parameters}
{\em Token\mbox{[}$\,$\mbox{]}} & \$tokens Input list of tokens \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em Token\mbox{[}$\,$\mbox{]}} & \\
\hline
\end{DoxyRetVals}
\hypertarget{classMathParser_1_1Parsing_1_1Parser_a5e95881d4b53730565bf2205fa621086}{\index{Math\-Parser\-::\-Parsing\-::\-Parser@{Math\-Parser\-::\-Parsing\-::\-Parser}!Shunting\-Yard@{Shunting\-Yard}}
\index{Shunting\-Yard@{Shunting\-Yard}!MathParser::Parsing::Parser@{Math\-Parser\-::\-Parsing\-::\-Parser}}
\subsubsection[{Shunting\-Yard}]{\setlength{\rightskip}{0pt plus 5cm}Math\-Parser\textbackslash{}\-Parsing\textbackslash{}\-Parser\-::\-Shunting\-Yard (
\begin{DoxyParamCaption}
\item[{array}]{\$tokens}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}}\label{classMathParser_1_1Parsing_1_1Parser_a5e95881d4b53730565bf2205fa621086}


Implementation of the shunting yard parsing algorithm. 


\begin{DoxyParams}{Parameters}
{\em Token\mbox{[}$\,$\mbox{]}} & \$tokens \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em Node} & \\
\hline
\end{DoxyRetVals}

\begin{DoxyExceptions}{Exceptions}
{\em Syntax\-Error\-Exception} & \\
\hline
{\em Parenthesis\-Mismatch\-Exception} & \\
\hline
\end{DoxyExceptions}


The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
src/\-Math\-Parser/\-Parsing/Parser.\-php\end{DoxyCompactItemize}
